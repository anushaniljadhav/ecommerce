{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Link}from'react-router-dom';import{productService}from'../services/productService';import{useCart}from'../context/CartContext';import'../styles/Products.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const{addToCart}=useCart();const[message,setMessage]=useState(null);const[searchQuery,setSearchQuery]=useState('');const[imagePreview,setImagePreview]=useState(null);const fileInputRef=useRef(null);useEffect(()=>{fetchProducts();},[]);const fetchProducts=async()=>{try{const data=await productService.getAllProducts();setProducts(data);}catch(err){setError('Failed to load products');console.error('Error fetching products:',err);}finally{setLoading(false);}};const handleSearch=async e=>{e&&e.preventDefault();if(!searchQuery){// empty - load all\nsetLoading(true);await fetchProducts();return;}try{setLoading(true);// try server-side search first\nconst data=await productService.searchProducts(searchQuery);// if API returns data, use it; otherwise filter client-side\nif(data&&data.length>=0){// prioritize exact matches (case-insensitive), then startsWith, then includes\nconst q=searchQuery.trim().toLowerCase();const sorted=[...data].sort((a,b)=>{const an=(a.name||'').toLowerCase();const bn=(b.name||'').toLowerCase();const aExact=an===q?0:an.startsWith(q)?1:an.includes(q)?2:3;const bExact=bn===q?0:bn.startsWith(q)?1:bn.includes(q)?2:3;if(aExact!==bExact)return aExact-bExact;return an.localeCompare(bn);});setProducts(sorted);}else{const q=searchQuery.trim().toLowerCase();setProducts(prev=>{const filtered=prev.filter(p=>(p.name||'').toLowerCase().includes(q));const sorted=[...filtered].sort((a,b)=>{const an=(a.name||'').toLowerCase();const bn=(b.name||'').toLowerCase();const aExact=an===q?0:an.startsWith(q)?1:an.includes(q)?2:3;const bExact=bn===q?0:bn.startsWith(q)?1:bn.includes(q)?2:3;if(aExact!==bExact)return aExact-bExact;return an.localeCompare(bn);});return sorted;});}}catch(err){console.warn('Search failed, falling back to client filter',err);const q=searchQuery.trim().toLowerCase();setProducts(prev=>{const filtered=prev.filter(p=>(p.name||'').toLowerCase().includes(q));const sorted=[...filtered].sort((a,b)=>{const an=(a.name||'').toLowerCase();const bn=(b.name||'').toLowerCase();const aExact=an===q?0:an.startsWith(q)?1:an.includes(q)?2:3;const bExact=bn===q?0:bn.startsWith(q)?1:bn.includes(q)?2:3;if(aExact!==bExact)return aExact-bExact;return an.localeCompare(bn);});return sorted;});}finally{setLoading(false);}};const handleImageClick=()=>{if(fileInputRef.current)fileInputRef.current.click();};const handleImageSelect=e=>{const file=e.target.files&&e.target.files[0];if(!file)return;const url=URL.createObjectURL(file);setImagePreview(url);// future: send file to server for image search\n};const handleAddToCart=async productId=>{const result=await addToCart(productId);if(result.success){setMessage({type:'success',text:'Product added to cart!'});setTimeout(()=>setMessage(null),4000);}else{setMessage({type:'error',text:result.error});setTimeout(()=>setMessage(null),4000);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading products...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error});}return/*#__PURE__*/_jsx(\"div\",{className:\"products-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Our Products\"}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"inline-message \".concat(message.type==='error'?'error':'success'),style:{marginBottom:12},children:[message.text,\" \",message.type==='success'&&/*#__PURE__*/_jsx(Link,{to:\"/cart\",style:{marginLeft:8},children:\"View Cart\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"products-toolbar\",style:{display:'flex',gap:8,alignItems:'center',marginBottom:12},children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,style:{display:'flex',gap:8,flex:1},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search products by name...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),style:{flex:1,padding:8,borderRadius:6,border:'1px solid #ddd'}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:handleImageClick,children:\"Upload Image\"}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",style:{display:'none'},onChange:handleImageSelect}),imagePreview&&/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"preview\",style:{width:72,height:48,objectFit:'cover',borderRadius:6}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-image\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name}),product.stock<10&&product.stock>0&&/*#__PURE__*/_jsx(\"span\",{className:\"stock-badge\",children:\"Low Stock\"}),product.stock===0&&/*#__PURE__*/_jsx(\"span\",{className:\"stock-badge out-of-stock\",children:\"Out of Stock\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"product-category\",children:product.category}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-rating\",children:['⭐'.repeat(Math.floor(product.rating||4)),/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",product.reviews||0,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product._id),className:\"btn btn-outline\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToCart(product._id),className:\"btn btn-primary\",disabled:product.stock===0,children:product.stock===0?'Out of Stock':'Add to Cart'})]})]})]},product._id))})]})});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","productService","useCart","jsx","_jsx","jsxs","_jsxs","Products","products","setProducts","loading","setLoading","error","setError","addToCart","message","setMessage","searchQuery","setSearchQuery","imagePreview","setImagePreview","fileInputRef","fetchProducts","data","getAllProducts","err","console","handleSearch","e","preventDefault","searchProducts","length","q","trim","toLowerCase","sorted","sort","a","b","an","name","bn","aExact","startsWith","includes","bExact","localeCompare","prev","filtered","filter","p","warn","handleImageClick","current","click","handleImageSelect","file","target","files","url","URL","createObjectURL","handleAddToCart","productId","result","success","type","text","setTimeout","className","children","concat","style","marginBottom","to","marginLeft","display","gap","alignItems","onSubmit","flex","placeholder","value","onChange","padding","borderRadius","border","onClick","ref","accept","src","alt","width","height","objectFit","map","product","image","stock","category","description","repeat","Math","floor","rating","reviews","price","_id","disabled"],"sources":["C:/Users/user/ecommerce-web/frontend/src/pages/Products.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { productService } from '../services/productService';\r\nimport { useCart } from '../context/CartContext';\r\nimport '../styles/Products.css';\r\n\r\nconst Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const { addToCart } = useCart();\r\n  const [message, setMessage] = useState(null);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const fileInputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const data = await productService.getAllProducts();\r\n      setProducts(data);\r\n    } catch (err) {\r\n      setError('Failed to load products');\r\n      console.error('Error fetching products:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = async (e) => {\r\n    e && e.preventDefault();\r\n    if (!searchQuery) {\r\n      // empty - load all\r\n      setLoading(true);\r\n      await fetchProducts();\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      // try server-side search first\r\n      const data = await productService.searchProducts(searchQuery);\r\n      // if API returns data, use it; otherwise filter client-side\r\n      if (data && data.length >= 0) {\r\n        // prioritize exact matches (case-insensitive), then startsWith, then includes\r\n        const q = searchQuery.trim().toLowerCase();\r\n        const sorted = [...data].sort((a, b) => {\r\n          const an = (a.name || '').toLowerCase();\r\n          const bn = (b.name || '').toLowerCase();\r\n          const aExact = an === q ? 0 : an.startsWith(q) ? 1 : an.includes(q) ? 2 : 3;\r\n          const bExact = bn === q ? 0 : bn.startsWith(q) ? 1 : bn.includes(q) ? 2 : 3;\r\n          if (aExact !== bExact) return aExact - bExact;\r\n          return an.localeCompare(bn);\r\n        });\r\n        setProducts(sorted);\r\n      } else {\r\n        const q = searchQuery.trim().toLowerCase();\r\n        setProducts(prev => {\r\n          const filtered = prev.filter(p => (p.name || '').toLowerCase().includes(q));\r\n          const sorted = [...filtered].sort((a, b) => {\r\n            const an = (a.name || '').toLowerCase();\r\n            const bn = (b.name || '').toLowerCase();\r\n            const aExact = an === q ? 0 : an.startsWith(q) ? 1 : an.includes(q) ? 2 : 3;\r\n            const bExact = bn === q ? 0 : bn.startsWith(q) ? 1 : bn.includes(q) ? 2 : 3;\r\n            if (aExact !== bExact) return aExact - bExact;\r\n            return an.localeCompare(bn);\r\n          });\r\n          return sorted;\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.warn('Search failed, falling back to client filter', err);\r\n      const q = searchQuery.trim().toLowerCase();\r\n      setProducts(prev => {\r\n        const filtered = prev.filter(p => (p.name || '').toLowerCase().includes(q));\r\n        const sorted = [...filtered].sort((a, b) => {\r\n          const an = (a.name || '').toLowerCase();\r\n          const bn = (b.name || '').toLowerCase();\r\n          const aExact = an === q ? 0 : an.startsWith(q) ? 1 : an.includes(q) ? 2 : 3;\r\n          const bExact = bn === q ? 0 : bn.startsWith(q) ? 1 : bn.includes(q) ? 2 : 3;\r\n          if (aExact !== bExact) return aExact - bExact;\r\n          return an.localeCompare(bn);\r\n        });\r\n        return sorted;\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleImageClick = () => {\r\n    if (fileInputRef.current) fileInputRef.current.click();\r\n  };\r\n\r\n  const handleImageSelect = (e) => {\r\n    const file = e.target.files && e.target.files[0];\r\n    if (!file) return;\r\n    const url = URL.createObjectURL(file);\r\n    setImagePreview(url);\r\n    // future: send file to server for image search\r\n  };\r\n\r\n  const handleAddToCart = async (productId) => {\r\n    const result = await addToCart(productId);\r\n    if (result.success) {\r\n      setMessage({ type: 'success', text: 'Product added to cart!' });\r\n      setTimeout(() => setMessage(null), 4000);\r\n    } else {\r\n      setMessage({ type: 'error', text: result.error });\r\n      setTimeout(() => setMessage(null), 4000);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading products...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"products-page\">\r\n      <div className=\"container\">\r\n        <h1>Our Products</h1>\r\n        {message && (\r\n          <div className={`inline-message ${message.type === 'error' ? 'error' : 'success'}`} style={{marginBottom:12}}>\r\n            {message.text} {message.type === 'success' && <Link to=\"/cart\" style={{marginLeft:8}}>View Cart</Link>}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"products-toolbar\" style={{display:'flex',gap:8,alignItems:'center',marginBottom:12}}>\r\n          <form onSubmit={handleSearch} style={{display:'flex',gap:8,flex:1}}>\r\n            <input placeholder=\"Search products by name...\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} style={{flex:1,padding:8,borderRadius:6,border:'1px solid #ddd'}} />\r\n            <button className=\"btn btn-outline\" onClick={handleSearch}>Search</button>\r\n          </form>\r\n\r\n          <div style={{display:'flex',gap:8,alignItems:'center'}}>\r\n            <button className=\"btn btn-outline\" onClick={handleImageClick}>Upload Image</button>\r\n            <input ref={fileInputRef} type=\"file\" accept=\"image/*\" style={{display:'none'}} onChange={handleImageSelect} />\r\n            {imagePreview && <img src={imagePreview} alt=\"preview\" style={{width:72,height:48,objectFit:'cover',borderRadius:6}} />}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"products-grid\">\r\n          {products.map(product => (\r\n            <div key={product._id} className=\"product-card\">\r\n              <div className=\"product-image\">\r\n                <img src={product.image} alt={product.name} />\r\n                {product.stock < 10 && product.stock > 0 && (\r\n                  <span className=\"stock-badge\">Low Stock</span>\r\n                )}\r\n                {product.stock === 0 && (\r\n                  <span className=\"stock-badge out-of-stock\">Out of Stock</span>\r\n                )}\r\n              </div>\r\n              <div className=\"product-info\">\r\n                <h3>{product.name}</h3>\r\n                <p className=\"product-category\">{product.category}</p>\r\n                <p className=\"product-description\">{product.description}</p>\r\n                <div className=\"product-rating\">\r\n                  {'⭐'.repeat(Math.floor(product.rating || 4))}\r\n                  <span>({product.reviews || 0})</span>\r\n                </div>\r\n                <div className=\"product-price\">${product.price}</div>\r\n                <div className=\"product-actions\">\r\n                  <Link to={`/product/${product._id}`} className=\"btn btn-outline\">\r\n                    View Details\r\n                  </Link>\r\n                  <button \r\n                    onClick={() => handleAddToCart(product._id)}\r\n                    className=\"btn btn-primary\"\r\n                    disabled={product.stock === 0}\r\n                  >\r\n                    {product.stock === 0 ? 'Out of Stock' : 'Add to Cart'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}