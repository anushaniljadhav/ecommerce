{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\athar\\\\Downloads\\\\ecommerce-web\\\\ecommerce-web\\\\frontend\\\\src\\\\pages\\\\Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport '../styles/Register.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const {\n    register\n  } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n    const result = await register(name, email, password);\n    setLoading(false);\n    if (result.success) {\n      // show success popup then redirect to login with credentials prefilled\n      // we'll clear local auth state (AuthContext sets token/user on register) so user must login\n      // show a brief modal-like message\n      const popup = document.createElement('div');\n      popup.style.position = 'fixed';\n      popup.style.left = '50%';\n      popup.style.top = '20%';\n      popup.style.transform = 'translateX(-50%)';\n      popup.style.background = '#e8f7e8';\n      popup.style.border = '1px solid #cfeccf';\n      popup.style.padding = '16px 20px';\n      popup.style.borderRadius = '8px';\n      popup.style.zIndex = 9999;\n      popup.innerText = 'Registered successfully! Redirecting to login...';\n      document.body.appendChild(popup);\n      setTimeout(() => {\n        document.body.removeChild(popup);\n        // redirect to login and pass credentials to prefill\n        navigate('/login', {\n          state: {\n            prefillEmail: email,\n            prefillPassword: password\n          }\n        });\n      }, 1500);\n    } else {\n      setError(result.error || 'Registration failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container auth-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"auth-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: name,\n          onChange: e => setName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          type: \"email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Registering...' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Already have an account? \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"R8jfe4ImeBZ7IiJ2NbAorT0CO0I=\", false, function () {\n  return [useAuth, useNavigate, useLocation];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","Link","useLocation","useAuth","jsxDEV","_jsxDEV","Register","_s","name","setName","email","setEmail","password","setPassword","error","setError","loading","setLoading","register","navigate","location","handleSubmit","e","preventDefault","result","success","popup","document","createElement","style","position","left","top","transform","background","border","padding","borderRadius","zIndex","innerText","body","appendChild","setTimeout","removeChild","state","prefillEmail","prefillPassword","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","type","disabled","to","_c","$RefreshReg$"],"sources":["C:/Users/athar/Downloads/ecommerce-web/ecommerce-web/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport '../styles/Register.css';\r\n\r\nconst Register = () => {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { register } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setLoading(true);\r\n    const result = await register(name, email, password);\r\n    setLoading(false);\r\n\r\n    if (result.success) {\r\n      // show success popup then redirect to login with credentials prefilled\r\n      // we'll clear local auth state (AuthContext sets token/user on register) so user must login\r\n      // show a brief modal-like message\r\n      const popup = document.createElement('div');\r\n      popup.style.position = 'fixed';\r\n      popup.style.left = '50%';\r\n      popup.style.top = '20%';\r\n      popup.style.transform = 'translateX(-50%)';\r\n      popup.style.background = '#e8f7e8';\r\n      popup.style.border = '1px solid #cfeccf';\r\n      popup.style.padding = '16px 20px';\r\n      popup.style.borderRadius = '8px';\r\n      popup.style.zIndex = 9999;\r\n      popup.innerText = 'Registered successfully! Redirecting to login...';\r\n      document.body.appendChild(popup);\r\n      setTimeout(() => {\r\n        document.body.removeChild(popup);\r\n        // redirect to login and pass credentials to prefill\r\n        navigate('/login', { state: { prefillEmail: email, prefillPassword: password } });\r\n      }, 1500);\r\n    } else {\r\n      setError(result.error || 'Registration failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-page\">\r\n      <div className=\"container auth-container\">\r\n        <h1>Register</h1>\r\n        {error && <div className=\"auth-error\">{error}</div>}\r\n        <form onSubmit={handleSubmit} className=\"auth-form\">\r\n          <label>Name</label>\r\n          <input value={name} onChange={(e) => setName(e.target.value)} required />\r\n\r\n          <label>Email</label>\r\n          <input value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" required />\r\n\r\n          <label>Password</label>\r\n          <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n\r\n          <button className=\"btn btn-primary\" type=\"submit\" disabled={loading}>\r\n            {loading ? 'Registering...' : 'Register'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"auth-footer\">\r\n          <span>Already have an account? </span>\r\n          <Link to=\"/login\">Login</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}