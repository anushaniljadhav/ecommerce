{"ast":null,"code":"import React from'react';import{Link,useNavigate}from'react-router-dom';import{useCart}from'../context/CartContext';import{useAuth}from'../context/AuthContext';import'../styles/Cart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cart=()=>{const{cartItems,removeFromCart,getCartTotal}=useCart();const{user}=useAuth();const navigate=useNavigate();const handleRemoveItem=async productId=>{const result=await removeFromCart(productId);if(!result.success){alert(result.error);}};const handleCheckout=()=>{if(cartItems.length===0){alert('Your cart is empty');return;}navigate('/checkout');};if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"cart-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-required\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Please login to view your cart\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-primary\",children:\"Login\"})]})})});}if(cartItems.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"cart-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"empty-cart\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your cart is empty\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Browse our products and add some items to your cart!\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"btn btn-primary\",children:\"Continue Shopping\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"cart-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-items\",children:cartItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image||'/images/placeholder.jpg',alt:item.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"item-category\",children:item.category}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-price\",children:[\"$\",item.price]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-quantity\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Qty: \",item.cart_quantity]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-total\",children:[\"$\",(item.price*item.cart_quantity).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveItem(item._id),className:\"remove-btn\",children:\"Remove\"})]},item._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-line\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",getCartTotal().toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-line\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Shipping:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"$0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-line total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",getCartTotal().toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCheckout,className:\"btn btn-primary btn-large checkout-btn\",children:\"Proceed to Checkout\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"continue-shopping\",children:\"Continue Shopping\"})]})]})]})});};export default Cart;","map":{"version":3,"names":["React","Link","useNavigate","useCart","useAuth","jsx","_jsx","jsxs","_jsxs","Cart","cartItems","removeFromCart","getCartTotal","user","navigate","handleRemoveItem","productId","result","success","alert","error","handleCheckout","length","className","children","to","map","item","src","image","alt","name","category","price","cart_quantity","toFixed","onClick","_id"],"sources":["C:/Users/user/ecommerce-web/frontend/src/pages/Cart.js"],"sourcesContent":["import React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useCart } from '../context/CartContext';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport '../styles/Cart.css';\r\n\r\nconst Cart = () => {\r\n  const { cartItems, removeFromCart, getCartTotal } = useCart();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleRemoveItem = async (productId) => {\r\n    const result = await removeFromCart(productId);\r\n    if (!result.success) {\r\n      alert(result.error);\r\n    }\r\n  };\r\n\r\n  const handleCheckout = () => {\r\n    if (cartItems.length === 0) {\r\n      alert('Your cart is empty');\r\n      return;\r\n    }\r\n    navigate('/checkout');\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"cart-page\">\r\n        <div className=\"container\">\r\n          <div className=\"auth-required\">\r\n            <h2>Please login to view your cart</h2>\r\n            <Link to=\"/login\" className=\"btn btn-primary\">\r\n              Login\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (cartItems.length === 0) {\r\n    return (\r\n      <div className=\"cart-page\">\r\n        <div className=\"container\">\r\n          <div className=\"empty-cart\">\r\n            <h2>Your cart is empty</h2>\r\n            <p>Browse our products and add some items to your cart!</p>\r\n            <Link to=\"/products\" className=\"btn btn-primary\">\r\n              Continue Shopping\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"cart-page\">\r\n      <div className=\"container\">\r\n        <h1>Shopping Cart</h1>\r\n        \r\n        <div className=\"cart-content\">\r\n          <div className=\"cart-items\">\r\n            {cartItems.map(item => (\r\n              <div key={item._id} className=\"cart-item\">\r\n                <div className=\"item-image\">\r\n                  <img src={item.image || '/images/placeholder.jpg'} alt={item.name} />\r\n                </div>\r\n                \r\n                <div className=\"item-details\">\r\n                  <h3>{item.name}</h3>\r\n                  <p className=\"item-category\">{item.category}</p>\r\n                  <p className=\"item-price\">${item.price}</p>\r\n                </div>\r\n                \r\n                <div className=\"item-quantity\">\r\n                  <span>Qty: {item.cart_quantity}</span>\r\n                </div>\r\n                \r\n                <div className=\"item-total\">\r\n                  ${(item.price * item.cart_quantity).toFixed(2)}\r\n                </div>\r\n                \r\n                <button \r\n                  onClick={() => handleRemoveItem(item._id)}\r\n                  className=\"remove-btn\"\r\n                >\r\n                  Remove\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          <div className=\"cart-summary\">\r\n            <h3>Order Summary</h3>\r\n            <div className=\"summary-line\">\r\n              <span>Subtotal:</span>\r\n              <span>${getCartTotal().toFixed(2)}</span>\r\n            </div>\r\n            <div className=\"summary-line\">\r\n              <span>Shipping:</span>\r\n              <span>$0.00</span>\r\n            </div>\r\n            <div className=\"summary-line total\">\r\n              <span>Total:</span>\r\n              <span>${getCartTotal().toFixed(2)}</span>\r\n            </div>\r\n            \r\n            <button \r\n              onClick={handleCheckout}\r\n              className=\"btn btn-primary btn-large checkout-btn\"\r\n            >\r\n              Proceed to Checkout\r\n            </button>\r\n            \r\n            <Link to=\"/products\" className=\"continue-shopping\">\r\n              Continue Shopping\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}